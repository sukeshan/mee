<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Sukesh ðŸŒ–</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <nav>
            <div class="logo"><a href="index.html">Sukesh</a></div>
            <div class="nav-links">
                <a href="index.html">Home</a>
                <a href="blog.html" class="active">Blog</a>
                <a href="mailto:sukeshram5@gmail.com">Contact</a>
            </div>
        </nav>

        <header class="hero" style="min-height: 50vh;">
            <h1 class="glow-text">Transmissions</h1>
            <div class="hero-intro">
                <p class="glow-text-word">Technical blogs on AI, Tokenization, and Engineering.</p>
            </div>
        </header>

        <section style="padding-top: 0;">
            <div id="cluster-container" class="blog-grid">
                <!-- Clusters will be injected here -->
            </div>
        </section>

        <!-- Blog Modal -->
        <div id="blog-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2 id="modal-title">Cluster Title</h2>
                <div id="modal-blog-list" class="modal-blog-grid">
                    <!-- Blog items will be injected here -->
                </div>
            </div>
        </div>

        <script src="script.js"></script>
        <script>
            const blogData = [
                {
                    title: "Smart Batching: Train Faster, Waste Less",
                    category: "NLP / Optimization",
                    description: "Skip the padding tax. Learn how dynamic batching and uniform length strategies can 2x your training speed without sacrificing accuracy.",
                    url: "blog/smart-batching.html",
                    date: "2025-01-15" // Estimated date
                },
                {
                    title: "The Tokenizer Trap: Optimizing the Unseen",
                    category: "NLP / Optimization",
                    description: "Uncover the hidden trade-offs in tokenizer design. Learn how fertility, compression, and vocabulary size silently impact your model's performance.",
                    url: "blog/tokenization.html",
                    date: "2025-01-10"
                },
                {
                    title: "Identifying Tablet Purpose",
                    category: "Computer Vision",
                    description: "Using spatial information and OCR to identify drug names and their purposes from images.",
                    url: "blog/drug-identification.html",
                    date: "2024-12-20"
                },
                {
                    title: "Food Recipe Retrieval",
                    category: "Retrieval",
                    description: "Building a search engine to find recipes based on ingredients using embedding-based and graph-based techniques.",
                    url: "blog/food-recipe.html",
                    date: "2024-11-05"
                }
            ];

            // Group blogs by category
            const clusters = blogData.reduce((acc, blog) => {
                if (!acc[blog.category]) {
                    acc[blog.category] = [];
                }
                acc[blog.category].push(blog);
                return acc;
            }, {});

            const clusterContainer = document.getElementById('cluster-container');
            const modal = document.getElementById('blog-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBlogList = document.getElementById('modal-blog-list');
            const closeModal = document.querySelector('.close-modal');

            // Render Clusters
            for (const [category, blogs] of Object.entries(clusters)) {
                const clusterCard = document.createElement('div');
                clusterCard.className = 'blog-card cluster-card';
                clusterCard.innerHTML = `
                    <span class="blog-meta">Cluster</span>
                    <h3>${category}</h3>
                    <p>${blogs.length} Post${blogs.length > 1 ? 's' : ''}</p>
                `;

                clusterCard.addEventListener('click', () => {
                    openModal(category, blogs);
                });

                clusterContainer.appendChild(clusterCard);
            }

            // Open Modal
            function openModal(category, blogs) {
                modalTitle.textContent = category;
                modalBlogList.innerHTML = '';

                blogs.forEach(blog => {
                    const blogItem = document.createElement('a');
                    blogItem.href = blog.url;
                    blogItem.className = 'blog-card modal-blog-card';
                    blogItem.innerHTML = `
                        <span class="blog-meta">${blog.date || ''}</span>
                        <h3>${blog.title}</h3>
                        <p>${blog.description}</p>
                    `;
                    modalBlogList.appendChild(blogItem);
                });

                modal.style.display = 'flex';
                // Trigger reflow for animation
                void modal.offsetWidth;
                modal.classList.add('show');
            }

            // Close Modal
            closeModal.addEventListener('click', () => {
                closeModalFunc();
            });

            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModalFunc();
                }
            });

            function closeModalFunc() {
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300); // Match transition duration
            }
        </script>

        <footer>
            <div>
                <p>Â© 2025 Sukesh</p>
            </div>
            <div class="footer-links">
                <a href="https://github.com/sukeshan" target="_blank">GitHub</a>
                <a href="https://linkedin.com/in/sukeshan-r-88aab9159/" target="_blank">LinkedIn</a>
                <a href="https://medium.com/@sukeshram5" target="_blank">Medium</a>
            </div>
        </footer>
    </div>
</body>

</html>